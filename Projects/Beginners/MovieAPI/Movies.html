<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="path-to-your-favicon.ico" type="image/x-icon">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, Helvetica, sans-serif;
        }

        body {
            background-color: #f5f5f5;
        }

        nav {
            background-color: #232f3e;
            color: #fff;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 18px;
        }

        .search-container input,
        button {
            padding: 5px 10px;
            border: none;
            font-size: 16px;
        }

        .search-container input {
            border-radius: 5px 0 0 5px;
        }

        .search-container button {
            border-radius: 0 5px 5px 0;
            background-color: goldenrod;
            cursor: pointer;
            transition: all 0.2s;
        }

        .search-container button:hover {
            background-color: gold;
        }

        /* Navbar fininshed */
        main {
            max-width: 1200px;
            margin: 0px auto;
            margin-block: 40px;
        }

        main section {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 70vh;
        }

        /* Footer Styling */
        footer {
            text-align: center;
            background: #232f3e;
            color: #fff;
            padding-block: 20px;
            margin-top: 40px;
            font-size: 20px;
        }

        /* Movie Container */

        .movie-container .noBackground {
            background: none;
            box-shadow: none;
        }

        .movie-container {
            display: flex;
            justify-content: center;
            background: #fff;
            box-shadow: 0 0 10px #ccc;
            width: 80%;
            border-radius: 5px;
        }

        .moviePoster img {
            height: 450px;
            margin: 20px 30px 40px 20px;
            border-radius: 5px 0 0 5px;
        }

        .movie-info {
            padding: 30px;
        }

        .movie-info h2 {
            text-align: center;
            font-size: 32px;
            margin: 20px 0 12px 0;
        }

        .movie-info h2+p {
            text-align: center;
        }

        .movie-info p {
            font-size: 18px;
            margin-block: 16px;
            line-height: 24px;
        }

        .movie-info strong {
            font-weight: 800;
            margin-inline: 10px;
        }

        .movie-info .movie-genre {
            display: flex;
            justify-content: center;
            margin-block: 10px;
        }

        .movie-info .movie-genre p {
            background: #232f3e;
            color: #fff;
            padding: 5px 14px;
            margin-inline: 5px;
            border: 2px solid #000;
            border-radius: 6px;
            font-weight: 700;
        }

        /* Responsive Design */

        /* For large screens (desktops/laptops) */
        @media (min-width: 992px) {
            .navbar {
                padding: 18px 20px;
            }

            .movie-container {
                width: 70%;
                /* Reduce width for better alignment on larger screens */
            }
        }

        /* For tablets (portrait and landscape) */
        @media (min-width: 768px) and (max-width: 991px) {
            .navbar {
                flex-direction: column;
                /* Stack navbar items */
                text-align: center;
            }

            .search-container {
                width: 100%;
                margin-top: 10px;
            }

            .movie-container {
                flex-direction: column;
                /* Stack poster and details vertically */
                width: 85%;
            }

            .moviePoster img {
                height: 300px;
                /* Reduce size for smaller screens */
                margin: 10px auto;
                /* Center image */
                display: block;
            }

            .movie-info {
                padding: 20px;
            }

            .movie-info h2 {
                font-size: 28px;
                /* Adjust font size */
            }

            .movie-info p {
                font-size: 16px;
            }
        }

        /* For mobile screens */
        @media (max-width: 767px) {
            .navbar {
                flex-direction: column;
                text-align: center;
                padding: 15px 10px;
            }

            .search-container {
                flex-direction: column;
                /* Stack search bar and button */
                align-items: center;
            }

            .search-container input {
                width: 80%;
                /* Stretch input to take up more space */
                margin-bottom: 10px;
                /* Add spacing between input and button */
            }

            .search-container button {
                width: 80%;
                /* Stretch button to match input width */
            }

            main section {
                min-height: 50vh;
                /* Adjust height for smaller screens */
                padding: 20px;
            }

            .movie-container {
                flex-direction: column;
                width: 95%;
                /* Full width with margin */
                padding: 10px;
            }

            .moviePoster img {
                height: auto;
                /* Maintain aspect ratio */
                width: 100%;
                /* Full width for smaller screens */
            }

            .movie-info {
                padding: 15px;
            }

            .movie-info h2 {
                font-size: 24px;
                /* Smaller font size for mobile */
            }

            .movie-info p {
                font-size: 14px;
            }

            footer {
                font-size: 16px;
                /* Smaller footer text */
                padding: 15px;
            }
        }
    </style>
    <title>Movies Guide App</title>
</head>

<body>
    <nav>
        <div class="navbar">
            <div class="logo">
                <h1>Movie Guide App</h1>
            </div>
            <div class="search-container">
                <form action="">
                    <input type="text" placeholder="search Movie" class="inputBox">
                    <button type="submit" class="searchBtn">Search</button>
                </form>
            </div>
        </div>
    </nav>

    <!-- Main -->
    <main>
        <section>
            <div class="movie-container noBackground">
                <h2>Search Movie Name , Get Details </h2>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; Copyrights reserved 2023 Movies Guide App</p>
    </footer>
    <!-- <script src="script.js"></script> -->
    <script>
        const searchForm = document.querySelector('form');
        const movieContainer = document.querySelector('.movie-container');
        const inputBox = document.querySelector('.inputBox');
        const loadingIndicator = document.createElement('p'); // Loading indicator element
        loadingIndicator.classList.add('loading');
        loadingIndicator.innerText = 'Loading...'; // Text for the loading indicator

        // Function to fetch movie details using Omdbi API
        const getMovieInfo = async (Movie) => {
            try {
                showLoadingIndicator(); // Show loading indicator
                const apiKey = "d8727693";
                const url = `https://www.omdbapi.com/?apikey=${apiKey}&t=${Movie}`;

                const response = await fetch(url);

                if (!response.ok) {
                    throw new Error("Unable to fetch movie data");
                }
                const data = await response.json();

                hideLoadingIndicator(); // Hide loading indicator

                if (data.Response === "True") {
                    showMovieDate(data);
                } else {
                    showErroMsg(`No Movie Found!!!!`);
                }
            } catch (error) {
                hideLoadingIndicator(); // Hide loading indicator
                showErroMsg(`No Movie Found!!!!`);
            }
        };

        // Function to show movie data on screen
        const showMovieDate = (data) => {
            movieContainer.innerHTML = ""; // Clear previous data

            const { Title, imdbRating, Genre, Released, Runtime, Actors, Plot, Poster } = data;

            const movieElement = document.createElement('div');
            movieElement.classList.add('movie-info');

            movieElement.innerHTML = `<h2>${Title}</h2>
                              <p><strong>Rating:</strong>‚≠ê${imdbRating}</p>`;

            const movieGenreElement = document.createElement('div');
            movieGenreElement.classList.add('movie-genre');

            Genre.split(',').forEach(element => {
                const p = document.createElement('p');
                p.innerText = element;
                movieGenreElement.appendChild(p);
            });

            movieElement.appendChild(movieGenreElement);

            movieElement.innerHTML += `<p><strong>Released:</strong>${Released}</p>
                              <p><strong>Runtime:</strong>${Runtime}</p>
                              <p><strong>Cast:</strong>${Actors}</p>
                              <p><strong>Plot:</strong>${Plot}</p>`;

            const moviePoster = document.createElement('div');
            moviePoster.classList.add('moviePoster');
            moviePoster.innerHTML = `<img src="${Poster}" alt="Poster of ${Title}">`;

            movieContainer.appendChild(movieElement);
            movieContainer.prepend(moviePoster);
        };

        // Function to display error messages
        const showErroMsg = (msg) => {
            movieContainer.innerHTML = `<h2>${msg}</h2>`;
        };

        // Function to show the loading indicator
        const showLoadingIndicator = () => {
            movieContainer.innerHTML = ""; // Clear any existing content
            movieContainer.appendChild(loadingIndicator); // Add the loading indicator
        };

        // Function to hide the loading indicator
        const hideLoadingIndicator = () => {
            if (movieContainer.contains(loadingIndicator)) {
                movieContainer.removeChild(loadingIndicator); // Remove the loading indicator
            }
        };

        // Event listener for searchForm
        searchForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const movieName = inputBox.value.trim();
            if (movieName !== "") {
                getMovieInfo(movieName);
            } else {
                showErroMsg(`Please Enter Movie Name to get Information`);
            }
        });

    </script>
</body>

</html>